<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Display Values</title>    
</head>

<body>
    <div id="values-container">
        <!-- Values will be displayed here -->
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Initial fetch and display
            fetchDataAndDisplayValues();
        
            // Fetch and display values every 1 second
            setInterval(fetchDataAndDisplayValues, 250); // 250 milliseconds
        });
        
        function fetchDataAndDisplayValues() {
            // Fetch data from the API
            fetch('http://192.168.1.224:5000/returnVals')
            .then(response => response.json())
            .then(data => {
                // Display the values
                displayValues(data);
            })
            .catch(error => {
                console.error('Error fetching data:', error);
            });
        }
        
        function displayValues(data) {
            // Clear previous values
            const container = document.getElementById('values-container');
            container.innerHTML = '';
        
            // Iterate through the values and create elements to display them
            for (const key in data) {
                if (data.hasOwnProperty(key)) {
                    const value = data[key];
                    const valueElement = document.createElement('div');
                    valueElement.textContent = `${key}: ${value}`;
                    container.appendChild(valueElement);
                }
            }
        }
        
    </script>
</body>
</html>
